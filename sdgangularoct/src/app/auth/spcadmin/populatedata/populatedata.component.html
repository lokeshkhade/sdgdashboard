<div class="row">
    <div class="col-md-12" style="text-align: center; padding-top: 15px;">
        <mat-label style="font-size: 20px;color: rgb(3, 8, 69);"> <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
           Populate Data
        </mat-label>
    </div>
</div>
<br>
<form [formGroup]="populatedataform">
    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">            
                    <div class="card mb-4">
                        <div class="card-header bg-primary text-white">
                            <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Populate Data
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <mat-label class="col-md-2 col-sm-2 col-lg-2" style="padding-top: 15px;">Select Year <span
                                        class="required-field"></span> :
                                </mat-label>
                                <mat-form-field class="col-md-10 col-sm-10 col-lg-10" appearance="outline">
                                    <mat-label>Select Year<span class="required"></span>
                                    </mat-label>
                                    <mat-select formControlName="valueyear" (selectionChange)="onYearSelected($event)">
                                        <mat-option *ngFor="let y of years" [value]="y.valueyear">
                                            {{y.valueyear}} </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-label class="col-md-2 col-sm-2 col-lg-2" style="padding-top: 15px;">Select District <span
                                        class="required-field"></span> :
                                </mat-label>
                                <mat-form-field class="col-md-10 col-sm-10 col-lg-10" appearance="outline">
                                    <mat-label>Select District<span class="required"></span>
                                    </mat-label>
                                    <mat-select formControlName="districtcode" (selectionChange)="onDistrictSelected($event)">
                                        <!-- <mat-option [value]="100">
                                            --Select-All-- </mat-option> -->
                                        <mat-option *ngFor="let s of districts" [value]="s.district_code">
                                            {{s.district_name}} </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-6 col-sm-6 col-lg-6">
                                    <button type="button" class="btn btn-primary" (click)="showdatapoints()">Show Data Points</button> &nbsp;                                    
                                    <button type="button" class="btn btn-warning" (click)="populate()">Populate Data</button> &nbsp;
                                    <button type="button" (click)="reset()" class="btn btn-success">Reset</button>
                                </div>
                            </div>
                            <br>     
                            <br>
                            <div class="row">
                                <div class="col-md-12 col-sm-12 col-lg-12">
                                    <mat-card >
                                        <button type="button" class="btn btn-md btn-success">Generate Excel</button>
                                        <br><br>
                                        <div class="row print-container">
                                            <div class="table-responsive" id="scrollableDiv">
                                                <table class="table-bordered table-hover align-items-center" #table>
                                                    <tr>
                                                        <th colspan="4">Normalized Score Districtwise</th>
                                                    </tr>
                                                    <tr>
                                                        <th>
                                                            S.No.
                                                        </th>
                                                        <th>
                                                            Indicator Description
                                                        </th>
                                                        <th>
                                                            Indicator Value
                                                        </th>
                                                        <th>
                                                            Indicator Normalized Score
                                                        </th>
                                                    </tr>
                                                    <ng-container *ngFor="let t of indicators">
                                                        <ng-container *ngFor="let p of populatedata;let i = index;">
                                                            <ng-container *ngIf="t.indicator_master_id == p.indicator_master_id">
                                                                <tr>
                                                                    <td>{{i+1}}</td>
                                                                    <td>
                                                                        {{p.district_indicator_desc}}
                                                                    </td>
                                                                    <td>{{p.indicators_value}}</td>
                                                                    <td>{{p.normalize_value}}</td>
                                                                </tr>
                                                            </ng-container>
                                                        </ng-container>
                                                    </ng-container>                                                   
                                                </table>
                                               
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
        </main>
    </div>
</form>
